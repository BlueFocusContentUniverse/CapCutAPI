# Example environment configuration for S3 Asset Downloader

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_ENV=development

MCP_SESSION_REDIS_URL=redis://localhost:6379/4

DATABASE_URL=postgresql://postgres@127.0.0.1/kox
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432
POSTGRES_DB=kox

# COS 对象存储
COS_SECRET_ID=${COS_SECRET_ID}
COS_SECRET_KEY=${COS_SECRET_KEY}
COS_REGION=${COS_REGION}
COS_BUCKET_NAME=${COS_BUCKET_NAME}
COS_ENDPOINT=${COS_ENDPOINT}
COS_CDN_DOMAIN=${COS_CDN_DOMAIN}

# Redis配置（可选，但推荐用于token缓存和rate limit）
# 如果已有CELERY_BROKER_URL，会自动使用（使用db+1避免冲突）
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# AWS Cognito配置（M2M认证）
# 服务端必需配置（用于验证token）：
COGNITO_REGION=us-west-2
COGNITO_USER_POOL_ID=us-west-2_MHKocs7IE
COGNITO_CLIENT_ID=STK0Q1C81OEJLLRJ14DFCNNQ7

# 速率限制配置（可选）
# RATE_LIMIT_REQUESTS_PER_MINUTE: 每分钟允许的请求数，默认60
# RATE_LIMIT_KEY_PREFIX: Redis key前缀，默认"rate_limit:"
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_KEY_PREFIX=rate_limit:

# Redis Token缓存配置（可选）
# 设置为 false 禁用 Redis 缓存，即使 Redis 可用也不使用
# 设置为 true 启用 Redis 缓存（默认）
ENABLE_REDIS_CACHE=true

# 以下配置仅用于测试脚本（可选）
# COGNITO_CLIENT_SECRET=your_client_secret_here
# COGNITO_SCOPE=default-m2m-resource-server-yde8kg/read

# Draft management API authentication
# Use one of the following:
# - DRAFT_API_TOKEN for a single token
# - DRAFT_API_TOKENS for a comma-separated list of tokens
# Fallbacks (also supported): API_TOKEN, AUTH_TOKEN
# Clients must send the token via Authorization: Bearer <token> or X-API-Token header
# DRAFT_API_TOKEN=changeme
# DRAFT_API_TOKENS=token1,token2
